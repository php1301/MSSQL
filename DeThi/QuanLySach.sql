CREATE DATABASE SACH
GO
USE SACH
GO
CREATE TABLE TACGIA
(
    MaTG CHAR(5) PRIMARY KEY,
    HoTen VARCHAR(20),
    DiaChi VARCHAR(50),
    NgSinh smalldatetime,
    SoDT VARCHAR(15),
)
GO
CREATE TABLE SACH
(
    MaSach CHAR(5) PRIMARY KEY,
    TenSach VARCHAR(25),
    TheLoai VARCHAR(25),
)
GO
CREATE TABLE TACGIA_SACH
(
    MaTG CHAR(5),
    MaSach CHAR(5),
    CONSTRAINT TACGIA_SACH_MaTG_FK FOREIGN KEY (MaTG) REFERENCES TACGIA(MaTG),
    CONSTRAINT TACGIA_SACH_MaSach_FK FOREIGN KEY (MaSach) REFERENCES SACH(MaSach)
)
GO
CREATE TABLE PHATHANH
(
    MaPH CHAR(5) PRIMARY KEY,
    MaSach CHAR(5),
    NgayPH smalldatetime,
    SoLuong INT,
    NhaXuatBan VARCHAR(20),
    CONSTRAINT PHATHANH_MaSach_FK FOREIGN KEY (MaSach) REFERENCES SACH(MaSach)
)
GO
-- TAC GIA VALUES
INSERT INTO TACGIA(MaTG, HoTen, DiaChi, NgSinh, SoDT) VALUES('TG01','TGA','123/A', '01/01/2001','001')
INSERT INTO TACGIA(MaTG, HoTen, DiaChi, NgSinh, SoDT) VALUES('TG02','TGB','123/B', '02/01/2001','002')
INSERT INTO TACGIA(MaTG, HoTen, DiaChi, NgSinh, SoDT) VALUES('TG03','TGC','123/C', '03/01/2001','003')
INSERT INTO TACGIA(MaTG, HoTen, DiaChi, NgSinh, SoDT) VALUES('TG04','TGD','123/D', '04/01/2001','004')
INSERT INTO TACGIA(MaTG, HoTen, DiaChi, NgSinh, SoDT) VALUES('TG05','TGE','123/E', '05/01/2001','005')
INSERT INTO TACGIA(MaTG, HoTen, DiaChi, NgSinh, SoDT) VALUES('TG06','TGF','123/F', '06/01/2001','006')
INSERT INTO TACGIA(MaTG, HoTen, DiaChi, NgSinh, SoDT) VALUES('TG07','TGG','123/G', '07/01/2001','007')

-- SACH VALUES
INSERT INTO SACH(MaSach, TenSach, TheLoai) VALUES('S01','SACH1','TL1')
INSERT INTO SACH(MaSach, TenSach, TheLoai) VALUES('S02','SACH2','TL2')
INSERT INTO SACH(MaSach, TenSach, TheLoai) VALUES('S03','SACH3','GIAOKHOA')
INSERT INTO SACH(MaSach, TenSach, TheLoai) VALUES('S04','SACH4','TL4')
INSERT INTO SACH(MaSach, TenSach, TheLoai) VALUES('S05','SACH5','GIAOKHOA')
INSERT INTO SACH(MaSach, TenSach, TheLoai) VALUES('S06','SACH6','TL6')
INSERT INTO SACH(MaSach, TenSach, TheLoai) VALUES('S07','SACH7','TL7')

-- TAC GIA SACH VALUES
INSERT INTO TACGIA_SACH(MaTG, MaSach) VALUES('TG01', 'S01')
INSERT INTO TACGIA_SACH(MaTG, MaSach) VALUES('TG02', 'S02')
INSERT INTO TACGIA_SACH(MaTG, MaSach) VALUES('TG03', 'S03')
INSERT INTO TACGIA_SACH(MaTG, MaSach) VALUES('TG04', 'S04')
INSERT INTO TACGIA_SACH(MaTG, MaSach) VALUES('TG05', 'S05')
INSERT INTO TACGIA_SACH(MaTG, MaSach) VALUES('TG06', 'S06')
INSERT INTO TACGIA_SACH(MaTG, MaSach) VALUES('TG07', 'S07')

-- PHATHANH VALUES
INSERT INTO PHATHANH(MaPH, MaSach, NgayPH, SoLuong, NhaXuatBan) VALUES('PH01', 'S01', '01/02/2001', 1, 'NhaXB1')
INSERT INTO PHATHANH(MaPH, MaSach, NgayPH, SoLuong, NhaXuatBan) VALUES('PH02', 'S02', '02/02/2001', 2, 'NhaXB2')
INSERT INTO PHATHANH(MaPH, MaSach, NgayPH, SoLuong, NhaXuatBan) VALUES('PH03', 'S03', '03/02/2001', 3, 'NhaXB3')
INSERT INTO PHATHANH(MaPH, MaSach, NgayPH, SoLuong, NhaXuatBan) VALUES('PH04', 'S04', '04/02/2001', 4, 'NhaXB4')
INSERT INTO PHATHANH(MaPH, MaSach, NgayPH, SoLuong, NhaXuatBan) VALUES('PH05', 'S05', '05/02/2001', 5, 'NhaXB5')
INSERT INTO PHATHANH(MaPH, MaSach, NgayPH, SoLuong, NhaXuatBan) VALUES('PH06', 'S06', '06/02/2001', 6, 'NhaXB6')
INSERT INTO PHATHANH(MaPH, MaSach, NgayPH, SoLuong, NhaXuatBan) VALUES('PH07', 'S07', '07/02/2001', 7, 'NhaXB7')

-- use SQLDB1
-- DROP DATABASE SACH